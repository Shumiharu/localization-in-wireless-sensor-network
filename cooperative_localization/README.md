# Cooperative Localization
## メモをここに残していきます
実際には測距できてないけど，推定座標位置からすると測距できる位置にいるので誤差が大きいと考えられるセンサノード -> VN
じゃあどうやって測距できる距離かサーバーが判定するの？
まず推定位置と測距できなかったセンサノードの距離を算出する
通信できる最大の距離を算出する．通信できる最大距離はどう算出するの？
山本先輩はパスロスモデルにいれて最大の距離を算出してるけどそれは違くないか？->サーバー側がパスロスモデルを知っていることになる（神様が存在）？
考えられるのは，送信電力と受信電力が既知であるから，その差（パスロス）から自由伝搬損失から求める
もしくは，得られた測距データのなかで最大のものを最大距離として考える．->一旦これで実装する．

誤差伝搬が起こりうる直接的な理由について
ホップ回数とRMSEに相関はない
測位された順番（0から20，ターゲットの数）を横軸，誤差を縦軸とするグラフを出してみる．

特徴量に関する考察
凸包
それが推定座標を包含するのであればよいが，そうでない場合は結局測位誤差が大きくなってしまう
残差の平均
特にいうことなし
SNの配置
普通に重心とTNの距離が大きいものほど測位誤差が大きいという特徴量で良いのでは？

試してみたい特徴量
sensor_availableの重心とTNの距離の差
sensors_unavailableの中でtarget_estimatedとの距離が最も大きくかつsensors_availableのtarget_estimatedのなかで最も測距値の大きいもの+2m（error_threshold）の範囲にあるsensor_unvailableとtarget_estimatedの距離
凸包のなかに推定座標が含まれることを条件に学習させる

考え方的にはANの中にいるセンサノードは機械学習させなくても十分測位精度が高いのでSVMにかける必要はほとんどないと思う

予測モデルが陽性だった場合，測距できたセンサの中でフィールドの中心から最も遠いものもしくは，推定座標から最も遠いものを除外してもう一度推定座標を算出する
TNが中心にいる場合は，誤差が小さくなる方に傾くはず
TNが外側にいる場合はむしろ誤差が大きくなる方に傾くはず
推定座標位置が誤差閾値の2mを超えたタイミングで終了して次のTNへ

もう一度予測して陰性（かつ元の推定座標と新しい推定座標の差が閾値の2m以内）であればその結果を測位結果とする．
陽性の場合は元の推定座標と新しい推定座標の距離が誤差閾値の2m以上であれば終了